#!/usr/bin/env ruby
PORT = 3000
RACKUP_FILE_PATH = "#{File.expand_path('../../lib', __FILE__)}/config.ru"

Signal.trap(:INT) do
  puts 'SIGINT'
  exit(0)
end

def help
  $stdout.puts 'usage: md_preview <path>'
end

unless ARGV[0]
  help
  exit 1
end

TARGET_PATH = File.expand_path(ARGV[0])

system "TARGET_PATH=#{TARGET_PATH} thin -R #{RACKUP_FILE_PATH} -p #{PORT} start"
